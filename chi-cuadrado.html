<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Test de chi-cuadrado</title>
    <link href="assets/css/bootstrap.css" rel="stylesheet" />
    <link href="assets/css/font-awesome.css" rel="stylesheet" />
    <link href="assets/css/style.css" rel="stylesheet" />
</head>
<body>
    <div class="navbar navbar-inverse set-radius-zero">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html">
                    <img src="assets/img/simulacion.png" />
                </a>
            </div>
            <div class="left-div">
                <div class="user-settings-wrapper">
                    <ul class="nav">
                        <li class="dropdown">
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <!-- LOGO HEADER END-->
    <section class="menu-section">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <div class="navbar-collapse collapse ">
                        <ul id="menu-top" class="nav navbar-nav navbar-right">
                            <li><a href="index.html">kolmogorov</a></li>
                            <li><a class="menu-top-active" href="chi-cuadrado.html">Chicuadrado</a></li>
                            <li><a href="sube-baja.html">Sube y baja</a></li>
                            <li><a href="debajo-media.html">Debajo de la media</a></li>
                        </ul>
                    </div>
                </div>

            </div>
        </div>
    </section>
    <!-- MENU SECTION END-->
    <div class="content-wrapper">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <h4 class="page-head-line">Chi cuadrado</h4>
                </div>
            </div>
            <div class="form-group">
                <label for="exampleInputFile">Subir archivos numeros aleatorios</label>
                <input type="file" id="exampleInputFile" />
                <br><button type="button" class="btn btn-danger">Aceptar</button>
            </div>
            <div class="row">
                <div class="col-md-12">
    <div>
        <label class="arregloOrdenado"></label>
        <div class="panel panel-default">
                        <div class="panel-heading">
                          Resultados test chi cuadrado
                        </div>
                        <div class="panel-body">
                            <div class="table-responsive">
                                <table class="table table-striped table-bordered table-hover">
                                        <thead>
                                            <tr>
                                                <th> Intervalo </th>
                                                <th> Oi </th>
                                                <th> Ei </th>
                                                <th> (Oi-Ei)<sup>2</sup> </th>
                                                <th> (Oi-Ei)<sup>2</sup>/Ei </th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>0,1</td>
                                                <td class="lista-IO_0"></td>
                                                <td class="lista-EI_0"></td>
                                                <td class="lista-OI_EI_0"></td>
                                                <td class="lista-OI_EI2_0"></td>
                                            </tr>
                                            <tr>
                                                <td>0,2</td>
                                                <td class="lista-IO_1"></td>
                                                <td class="lista-EI_1"></td>
                                                <td class="lista-OI_EI_1"></td>
                                                <td class="lista-OI_EI2_1"></td>
                                            </tr>
                                            <tr>
                                                <td>0,3</td>
                                                <td class="lista-IO_2"></td>
                                                <td class="lista-EI_2"></td>
                                                <td class="lista-OI_EI_2"></td>
                                                <td class="lista-OI_EI2_2"></td>
                                            </tr>
                                            <tr>
                                                <td>0,4</td>
                                                <td class="lista-IO_3"></td>
                                                <td class="lista-EI_3"></td>
                                                <td class="lista-OI_EI_3"></td>
                                                <td class="lista-OI_EI2_3"></td>
                                            </tr>
                                            <tr>
                                                <td>0,5</td>
                                                <td class="lista-IO_4"></td>
                                                <td class="lista-EI_4"></td>
                                                <td class="lista-OI_EI_4"></td>
                                                <td class="lista-OI_EI2_4"></td>
                                            </tr>
                                            <tr>
                                                <td>0,6</td>
                                                <td class="lista-IO_5"></td>
                                                <td class="lista-EI_5"></td>
                                                <td class="lista-OI_EI_5"></td>
                                                <td class="lista-OI_EI2_5"></td>
                                            </tr>
                                            <tr>
                                                <td>0,7</td>
                                                <td class="lista-IO_6"></td>
                                                <td class="lista-EI_6"></td>
                                                <td class="lista-OI_EI_6"></td>
                                                <td class="lista-OI_EI2_6"></td>
                                            </tr>
                                            <tr>
                                                <td>0,8</td>
                                                <td class="lista-IO_7"></td>
                                                <td class="lista-EI_7"></td>
                                                <td class="lista-OI_EI_7"></td>
                                                <td class="lista-OI_EI2_7"></td>
                                            </tr>
                                            <tr>
                                                <td>0,9</td>
                                                <td class="lista-IO_8"></td>
                                                <td class="lista-EI_8"></td>
                                                <td class="lista-OI_EI_8"></td>
                                                <td class="lista-OI_EI2_8"></td>
                                            </tr>
                                            <tr>
                                                <td>1</td>
                                                <td class="lista-IO_9"></td>
                                                <td class="lista-EI_9"></td>
                                                <td class="lista-OI_EI_9"></td>
                                                <td class="lista-OI_EI2_9"></td>
                                            </tr>
                                        </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <br>
                    <div class="col-md-4" >
                         
                          <div class="alert alert-info">
                             <strong>Total resultado:</strong> <p align="center"><b>x<sup>2</sup>oc = </b> <label class="totalChi"></label></p>
                               <p align="center"><b><label class="respuestaChi"></label></b></p>
                          </div>
                             
                    </div>
     </div>

</body>

                </div>

            </div>
            <div class="row">
            </div>
        </div>
    </div>
    <!-- CONTENT-WRAPPER SECTION END-->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    &copy; PERSPICAPPS</a>
                </div>

            </div>
        </div>
    </footer>
    <script src="assets/js/jquery-1.11.1.js"></script>
    <script src="assets/js/bootstrap.js"></script>
</body>



<script type="text/javascript">
    
    function swap(myArr, indexOne, indexTwo){
      var tmpVal = myArr[indexOne];
      myArr[indexOne] = myArr[indexTwo];
      myArr[indexTwo] = tmpVal;
      return myArr;
    }

    function bubbleSort(myArr){
      var size = myArr.length;
     
      for( var pass = 1; pass < size; pass++ ){ // outer loop
        for( var left = 0; left < (size - pass); left++){ // inner loop
          var right = left + 1;
          if( myArr[left] > myArr[right] ){
            swap(myArr, left, right);
          }
        }
      }
      return myArr;
    }


    var arregloOI = [];
    var intervalo = 0.1;
    var posicion_inicial = 0;

    function obtenerOI(myArr){

    var contador=0;

      for( var x=posicion_inicial; x < myArr.length; x++ ){
         
          if( myArr[x] <= intervalo ){
            contador++;
          }
          else{
            
            arregloOI.push(contador);
            posicion_inicial=x;

            if(intervalo<=1.0){
                
                var t=parseFloat(intervalo) + 0.1;
                intervalo=t.toFixed(1);
                obtenerOI(myArr);
            }   
                    
            break;
          }
        
      }
}

    var myArr = [0.007,0.008,0.012,0.044,0.060,0.103,0.122,0.133,0.168,0.172,0.182,0.196,0.198,0.204,0.210,0.228,0.286,0.324,0.327,0.331,0.333,0.352,0.356,0.367,0.401,0.439,0.461,0.461,0.465,0.505,0.508,0.510,0.518,0.539,0.563,0.609,0.661,0.662,0.683,0.688,0.699,0.757,0.766,0.794,0.809,0.873,0.901,0.906,0.939,0.949];

    myArr=bubbleSort(myArr);

        /* Imprime los numeros aleatorios
        for (var i = 0; i < myArr.length; i++) {
            $(".arregloOrdenado").append("<p> posi:["+i+"]"+myArr[i]+"</p>");
        }*/
    
        myArr.push(50);

        obtenerOI(myArr);

        var chiCuadrado=0;
        var cantidadAleatorio=myArr.length-1;

        for (var i = 0; i < arregloOI.length-1; i++) {
            $(".lista-IO_"+i).html(arregloOI[i]);

            var ei=cantidadAleatorio/10;
            $(".lista-EI_"+i).html(ei);
            
            var oiei_2 = Math.pow((arregloOI[i] - (cantidadAleatorio/10)),2).toFixed(3);  
            $(".lista-OI_EI_"+i).html(oiei_2);

            var oiei_3 = (oiei_2/ei).toFixed(3);  
            $(".lista-OI_EI2_"+i).html(oiei_3);
            chiCuadrado+=parseFloat(oiei_3);
        }

        $(".totalChi").append(chiCuadrado);

        if(chiCuadrado>=-16.9 && chiCuadrado<=16.9){
            $(".respuestaChi").append("Bajo el test de Chi-Cuadrado los números aleatorios ingresados son uniformes.");
        }else{
            $(".respuestaChi").append("Bajo el test de Chi-Cuadrado los números aleatorios ingresados NO  son uniformes.");
        }

</script>

</html>
